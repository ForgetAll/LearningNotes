* string：动态字符串，采用预分配冗余空间的方式来减少内存的频繁分配。当字符串小于 1M 时，扩容都是加倍现有的空间，如果超过 1M，扩容时一次只会多扩 1M 的空间。字符串最大长度为 512M
* list：list 是链表而不是数组，list 的插入和删除非常快，时间复杂度为 O(1)，但是索引定位很慢，时间复杂度为 O(n)，当列表弹出最后一个元素，数据结构被删除，内存被回收
  * 列表元素较少的情况下，会使用一块连续的内存存储，这个结构是 ziplist，数据量比较多的时候会改成 quicklist
  * quicklist 将多个 ziplist 使用双向指针穿串起来使用
* hash：数组+链表，发生 hash 冲突时，会将冲突元素用链表串起。redis 为了提高性能，采用了渐进式 rehash 策略
  * 渐进式 rehash 会在 rehash 的同时，保留新旧两个 hash 结构，查询时会同时查询两个 hash 结构，在后续的定时任务以及 hash 的子指令中，循序渐进的将旧 hash 的内容一点点迁移到新的 hash 结构中
* set：无序唯一
* zset：有序列表，使用跳表实现

通用规则：

* create if not exists
* drop if not elements